{"ast":null,"code":"import _slicedToArray from \"/home/asus/Documents/fossil-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/asus/Documents/fossil-test/src/shared/popup/index.tsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { actionTogglePopup as togglePopup } from \"./popup.actions\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\nimport { getPopupFactories } from \"src/externals/popup\";\nimport { breakpoints } from \"../utils/styled\";\n\nconst Popup = props => {\n  const popup = props.popup,\n        location = props.location,\n        togglePopup = props.togglePopup;\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        loaded = _React$useState2[0],\n        setLoaded = _React$useState2[1];\n\n  const _React$useState3 = React.useState(React.createElement(React.Fragment, null)),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        Comp = _React$useState4[0],\n        setComp = _React$useState4[1];\n\n  const factories = getPopupFactories();\n  React.useEffect(() => {\n    if (popup.toggle) {\n      togglePopup({\n        toggle: false\n      });\n    }\n  }, [location.pathname]);\n  React.useEffect(() => {\n    if (popup.toggle && popup.data.comp) {\n      (factories[popup.data.comp] || function () {\n        return Promise.reject({\n          message: \"Component not found\"\n        });\n      })().then(res => {\n        setComp(res);\n        setLoaded(true);\n      }).catch(e => {\n        console.log(e);\n        setLoaded(false);\n      });\n    }\n  }, [popup.toggle]);\n  return popup.toggle ? React.createElement(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      background: \"#ccc\",\n      backgroundColor: \"rgba(12, 11, 11,0.9)\",\n      zIndex: 1000,\n      position: \"fixed\",\n      left: 0,\n      right: 0,\n      bottom: 0,\n      top: 0,\n      minWidth: breakpoints.xs,\n      maxWidth: breakpoints.sm,\n      margin: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, loaded ? React.createElement(Comp.default, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }) : \"something wrong!\") : null;\n};\n\nexport default compose(withRouter, connect(state => ({\n  popup: state.popup\n}), {\n  togglePopup\n}))(Popup);","map":{"version":3,"sources":["/home/asus/Documents/fossil-test/src/shared/popup/index.tsx"],"names":["React","connect","actionTogglePopup","togglePopup","withRouter","compose","getPopupFactories","breakpoints","Popup","props","popup","location","useState","loaded","setLoaded","Comp","setComp","factories","useEffect","toggle","pathname","data","comp","Promise","reject","message","then","res","catch","e","console","log","minHeight","background","backgroundColor","zIndex","position","left","right","bottom","top","minWidth","xs","maxWidth","sm","margin","state"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { actionTogglePopup as togglePopup } from \"./popup.actions\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\nimport { getPopupFactories } from \"src/externals/popup\";\nimport { breakpoints } from \"../utils/styled\";\n\ninterface IProps {\n  popup: any;\n  location: any;\n  togglePopup: (payload: any) => { type: string; payload: any };\n}\n\nconst Popup = (props: IProps) => {\n  const { popup, location, togglePopup } = props;\n  const [loaded, setLoaded] = React.useState(false);\n  const [Comp, setComp]: any = React.useState(<></>);\n  const factories: any = getPopupFactories();\n  React.useEffect(() => {\n    if (popup.toggle) {\n      togglePopup({\n        toggle: false\n      });\n    }\n  }, [location.pathname]);\n  React.useEffect(() => {\n    if (popup.toggle && popup.data.comp) {\n      (\n        factories[popup.data.comp] ||\n        function() {\n          return Promise.reject({\n            message: \"Component not found\"\n          });\n        }\n      )()\n        .then((res: any) => {\n          setComp(res);\n          setLoaded(true);\n        })\n        .catch((e: any) => {\n          console.log(e);\n          setLoaded(false);\n        });\n    }\n  }, [popup.toggle]);\n  return popup.toggle ? (\n    <div\n      style={{\n        minHeight: \"100vh\",\n        background: \"#ccc\",\n        backgroundColor: \"rgba(12, 11, 11,0.9)\",\n        zIndex: 1000,\n        position: \"fixed\",\n        left: 0,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        minWidth: breakpoints.xs,\n        maxWidth: breakpoints.sm,\n        margin: \"auto\"\n      }}\n    >\n      {loaded ? <Comp.default /> : \"something wrong!\"}\n    </div>\n  ) : null;\n};\n\nexport default compose<IProps, any>(\n  withRouter,\n  connect(\n    (state: any) => ({\n      popup: state.popup\n    }),\n    {\n      togglePopup\n    }\n  )\n)(Popup);\n"]},"metadata":{},"sourceType":"module"}